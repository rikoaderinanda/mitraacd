<div class="modal fade" id="ShowDeskripsiUnit" tabindex="-1" aria-labelledby="ShowDeskripsiUnitLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen-sm-down">
    <div class="modal-content shadow-lg border-0 rounded-4">
      <!-- Header Gradient Merah -->
      <div class="modal-header text-white rounded-top-4" style="background: linear-gradient(135deg, #d63031, #c0392b);">
        <h5 class="modal-title" id="ShowDeskripsiUnitLabel">
          <i class="bi bi-camera-video me-2"></i> <span id="QRCodeText"></span>
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body p-4 bg-light">
        <form id="formDeskripsiUnit">
          <div class="mb-3">
            <label for="kategori" class="form-label fw-semibold">Kategori</label>
            <select class="form-select" id="kategori" name="kategori" required>
              <option value="">-- Pilih Kategori --</option>
              <option value="AC">AC</option>
              <option value="Kulkas">Kulkas</option>
              <option value="Mesin Cuci">Mesin Cuci</option>
              <option value="HP">HP</option>
              <option value="TV">TV</option>
            </select>
          </div>

          <div class="mb-3 d-none" id="jenisContainer">
            <label for="jenis" class="form-label fw-semibold">Jenis</label>
            <select class="form-select" id="jenis" name="jenis" required>
              <option value="">-- Pilih Jenis --</option>
              <option value="Manual">Manual</option>
              <option value="Inverter">Inverter</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="brand" class="form-label fw-semibold">Brand</label>
            <input type="text" class="form-control" id="brand" name="brand" placeholder="Contoh: Toyota" required>
          </div>

          <div class="mb-3">
            <label for="model" class="form-label fw-semibold">Model</label>
            <input type="text" class="form-control" id="model" name="model" placeholder="Contoh: Avanza" required>
          </div>

          <div class="mb-3">
            <label for="seri" class="form-label fw-semibold">Seri</label>
            <input type="text" class="form-control" id="seri" name="seri" placeholder="Contoh: G 1.3 MT 2020" required>
          </div>

          <div class="mb-3">
            <label for="catatan" class="form-label fw-semibold">Catatan Tambahan</label>
            <textarea class="form-control" id="catatan" name="catatan" rows="3" required placeholder="Contoh: Ada baret di sisi kiri bumper..."></textarea>
          </div>

          <!-- Tombol Submit -->
          <div class="text-end mt-4">
            <button type="submit" class="btn btn-danger px-4 rounded-pill">
              <i class="bi bi-save me-2"></i> Simpan Deskripsi
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const kategoriSelect = document.getElementById('kategori');
    const jenisContainer = document.getElementById('jenisContainer');

    kategoriSelect.addEventListener('change', function () {
      const selected = this.value;
      if (selected === 'AC') {
        jenisContainer.classList.remove('d-none');
      } else {
        jenisContainer.classList.add('d-none');
        document.getElementById('jenis').value = '';
      }
    });

    // Event handler untuk submit form (bisa diubah sesuai kebutuhan backend)
    document.getElementById('formDeskripsiUnit').addEventListener('submit', function (e) {
      e.preventDefault();
      // TODO: Tambahkan aksi kirim ke server
      var data = {
        kategori : $("#kategori"),
        jenis : $("#jenis"),
        brand : $("#brand"),
        model : $("#model"),
        seri : $("#seri"),
        catatan : $("#catatan")
      }

      Storage.set(data);
      Swal.fire({
        icon: 'success',
        title: 'Data Disimpan',
        text: 'Deskripsi unit berhasil disimpan.',
        confirmButtonText: 'OK',
        customClass: {
          confirmButton: 'btn btn-danger px-4 rounded-pill'
        },
        buttonsStyling: false
      });

      $("#_ModalShowCamera").modal('show');

    });
  });
</script>
